#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

printf "\n\n"

npx lint-staged || { 
  printf "\n\n------------------------------------------\n\n"
  printf "ðŸš« YOU HAVE ERRORS!" 
  printf "\n\n------------------------------------------\n\n";
  exit 1; 
}

# Following is for observability purposes

# TODOs / FIXMEs

#
npx leasot 'src/**/*.[jt]s?(x)' --exit-nicely || { 
  printf "\n\n"
  printf "TODOs / FIXMEs - consider reviewing these"
  printf "\n------------------------------------------\n"
  exit 0; 
}

# TODO: Add tests!
# printf "\n\nTEST COVERAGE\n--------------\n"
 
# npx jest --coverage --ci

printf "\n\n------------------------------------------\n\n"
printf "Now push your code! ðŸš€"
printf "\n\n------------------------------------------\n\n"